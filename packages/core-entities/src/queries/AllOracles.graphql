query AllOracles($numHistoricalRates: Int) {
  oracles(where: { oracleType_not_in: [
    PrimeCashToUnderlyingOracleInterestRate,
    PrimeCashToMoneyMarketExchangeRate,
    PrimeDebtToMoneyMarketExchangeRate,
    MoneyMarketToUnderlyingExchangeRate,
    MoneyMarketToUnderlyingOracleInterestRate
  ]}) {
    id
    lastUpdateBlockNumber
    lastUpdateTimestamp
    base { id }
    quote { id }
    decimals
    oracleAddress
    oracleType
    mustInvert
    latestRate
    historicalRates(first: $numHistoricalRates) {
      blockNumber
      timestamp
      rate
    }
  }

  _meta {
    block {
        number
    }
  }
}