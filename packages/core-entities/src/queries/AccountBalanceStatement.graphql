query AccountBalanceStatement($accountId: ID!) {
  account(id: $accountId) {
    id
    # TODO: filter this by zero after splitting out historicals
    balances(where: { current_: {currentBalance_not: 0}}) {
      token { 
        id
        underlying { id }
      }
      current {
        timestamp
        blockNumber
        currentBalance
        _accumulatedCostRealized
        adjustedCostBasis
        currentProfitAndLossAtSnapshot
        totalILAndFeesAtSnapshot
        totalProfitAndLossAtSnapshot
        totalInterestAccrualAtSnapshot
        _lastInterestAccumulator
        impliedFixedRate
        incentives {
          rewardToken { id symbol }
          totalClaimed
          adjustedClaimed
        }
      }
      # TODO: split this query out and make it by min timestampss
      snapshots(first: 25, orderBy: blockNumber, orderDirection: desc) {
        timestamp
        blockNumber
        currentBalance
        _accumulatedCostRealized
        adjustedCostBasis
        currentProfitAndLossAtSnapshot
        totalILAndFeesAtSnapshot
        totalProfitAndLossAtSnapshot
        totalInterestAccrualAtSnapshot
        impliedFixedRate
      }
    }
  }
}

