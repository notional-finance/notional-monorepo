main = "./src/index.ts"
compatibility_date = "2022-11-11"

workers_dev = true
node_compat = true
logpush = true
minify = true


[env.dev]
name = "vault-liquidator-dev"

[env.dev.vars]
NX_DATA_URL = 'https://data-dev.notional.finance'
ACCOUNT_SERVICE_URL = 'https://data-service-dot-monitoring-agents.uc.r.appspot.com/vaultAccounts'
ZERO_EX_SWAP_URL = 'https://arbitrum.api.0x.org/swap/v1/quote'
NETWORK = 'arbitrum'
FLASH_LIQUIDATOR_CONTRACT = '0xeF8E3aa5c4FcAdE988396F3A4660667255ae836A'
FLASH_LIQUIDATOR_OWNER = '0xbf778Fc19d0B55575711B6339A3680d07352B221'
# This contract and owner has a test version that is able to liquidate with dust
# fee accrual...
# FLASH_LIQUIDATOR_CONTRACT = '0xDbfA376cddbBdF7c09D5DD38F16D7a1B6302e545'
# FLASH_LIQUIDATOR_OWNER = '0x8F5ea3CDe898B208280c0e93F3aDaaf1F5c35a7e'
FLASH_LENDER_ADDRESS = '0x794a61358D6845594F94dc1DB02A252b5b4814aD'
FLASH_LOAN_BUFFER = '1005'
NOTIONAL_PROXY_CONTRACT = '0x1344A36A1B56144C3Bc62E7757377D288fDE0369'
GAS_COST_BUFFER = '1000'
DUST_THRESHOLD = '0'
PROFIT_THRESHOLD = '0'
SLIPPAGE_LIMIT = '950'

[env.beta]
name = "vault-liquidator-beta"

[env.prod]
name = "vault-liquidator"

[triggers]
crons = ["0/10 * * * *"]